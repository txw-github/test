
# 中文电视剧音频转文字工具 - 简易使用指南

## 🎯 系统要求

- **操作系统**: Windows 10/11 (64位)
- **显卡**: NVIDIA RTX 3060 Ti (6GB显存)
- **CUDA**: 12.1版本（通常包含在最新驱动中）
- **Python**: 3.10版本
- **可用存储**: 至少10GB（用于模型文件）

## 📋 安装步骤（完全不需要编程基础）

### 第一步：安装Python

1. 访问 https://www.python.org/downloads/
2. 下载Python 3.10版本（选择"Windows installer (64-bit)"）
3. 运行安装程序，**重要**：勾选"Add Python to PATH"
4. 点击"Install Now"

### 第二步：更新显卡驱动

1. 访问 https://www.nvidia.com/drivers/
2. 选择RTX 3060 Ti驱动下载
3. 安装最新驱动（包含CUDA 12.1）

### 第三步：运行自动安装

1. 下载本工具的所有文件到一个文件夹
2. **右键点击**`setup_environment.bat`，选择"**以管理员身份运行**"
3. 等待安装完成（可能需要10-30分钟，取决于网络速度）

### 第四步：测试安装

1. 双击运行`test_installation.py`
2. 确保看到"✓ 环境测试通过！"

## 🚀 使用方法

### 方法一：图形界面（推荐新手）

1. 将视频文件复制到工具文件夹中
2. 双击运行`start_conversion.bat`
3. 按提示选择：
   - 模型（推荐选择2或4）
   - 输入视频文件名
   - 输出字幕文件名
4. 等待转换完成

### 方法二：命令行（高级用户）

```cmd
# 基本使用
python main.py 电视剧第01集.mp4

# 指定模型和输出
python main.py 电视剧第01集.mp4 --model faster-base --output 第01集字幕.srt

# 使用中文优化模型
python main.py 电视剧第01集.mp4 --model firered-aed
```

## 🎛️ 模型选择指南

### RTX 3060 Ti 6GB 推荐配置

| 模型 | 速度 | 质量 | 显存占用 | 推荐场景 |
|------|------|------|----------|----------|
| **faster-base** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | 2GB | **日常使用推荐** |
| base | ⭐⭐⭐ | ⭐⭐⭐⭐ | 2GB | 标准使用 |
| small | ⭐⭐⭐⭐ | ⭐⭐⭐ | 1GB | 快速处理 |
| firered-aed | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 3GB | **中文内容最佳** |

### ⚠️ 不推荐（可能显存不足）
- medium: 需要4-6GB显存
- large: 需要6-8GB显存

## 📁 支持的文件格式

### 输入视频格式
- MP4 (推荐)
- MKV, AVI, MOV, WMV, FLV

### 输出格式
- SRT字幕文件（通用格式，支持所有播放器）

## 🔧 常见问题解决

### 问题1：显存不足
```
错误：CUDA out of memory
```
**解决方案：**
- 使用更小的模型（tiny, small）
- 关闭其他占用显存的程序
- 重启电脑释放显存

### 问题2：模型下载失败
**解决方案：**
- 检查网络连接
- 重新运行setup_environment.bat
- 手动删除models文件夹重新下载

### 问题3：音频提取失败
**解决方案：**
- 确保视频文件完整无损坏
- 尝试转换视频格式为MP4
- 检查文件路径中是否有特殊字符

### 问题4：转录质量不佳
**解决方案：**
- 使用firered-aed模型（中文优化）
- 确保音频清晰，减少背景噪音
- 使用更大的模型（如faster-large）

## 📊 性能参考

### RTX 3060 Ti测试结果

| 1小时视频处理时间 | 模型 | 显存占用 |
|------------------|------|----------|
| ~3分钟 | faster-base | 2GB |
| ~5分钟 | small | 1GB |
| ~8分钟 | base | 2GB |
| ~10分钟 | firered-aed | 3GB |

## 🆘 获取帮助

### 查看日志文件
如果遇到问题，请查看`video_subtitle.log`文件了解详细错误信息。

### 重新安装
如果出现严重问题，删除整个文件夹重新开始：
1. 删除工具文件夹
2. 重新下载所有文件
3. 重新运行setup_environment.bat

## 🎉 使用技巧

1. **批量处理**: 可以写简单的批处理脚本处理多个文件
2. **质量优化**: 对于重要内容，使用firered-aed或faster-large模型
3. **速度优化**: 日常使用推荐faster-base模型
4. **存储管理**: 定期清理models文件夹中的缓存文件

---

**注意**: 首次使用每个模型时，需要下载模型文件，请保持网络连接畅通。
